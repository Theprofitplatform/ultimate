# Staging Environment Configuration
# Copy this file to .env.staging and update values for staging deployment

# Application Environment
NODE_ENV=staging
LOG_LEVEL=info
API_PORT=9090
WS_PORT=9092
WEB_PORT=3000

# Database Configuration
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=ultimate_staging
POSTGRES_USER=ultimate_user
POSTGRES_PASSWORD=staging_secure_postgres_password
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=staging_secure_redis_password
REDIS_URL=redis://default:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}

# Security Keys (Use strong random strings for staging)
JWT_SECRET=staging_jwt_secret_32_chars_minimum_secure
ENCRYPTION_KEY=staging_encryption_key_32_chars_secure
SESSION_SECRET=staging_session_secret_32_chars_minimum

# Google OAuth Configuration
GOOGLE_CLIENT_ID=staging-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=staging_google_client_secret
GOOGLE_REDIRECT_URI=https://test.theprofitplatform.com.au/auth/google/callback

# Google Workspace API
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nSTAGING_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----"
GOOGLE_CLIENT_EMAIL=staging-service-account@staging-project.iam.gserviceaccount.com
GOOGLE_PROJECT_ID=staging-google-cloud-project

# Application URLs
API_URL=https://test.theprofitplatform.com.au/api
WS_URL=wss://test.theprofitplatform.com.au/ws
WEB_URL=https://test.theprofitplatform.com.au
CORS_ORIGIN=https://test.theprofitplatform.com.au

# File Upload Configuration
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/csv
UPLOAD_DEST=/app/uploads

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=staging@theprofitplatform.com.au
SMTP_PASS=staging_email_app_password

# Monitoring & Analytics
SENTRY_DSN=https://staging-sentry-dsn@sentry.io/staging-project-id
NEW_RELIC_LICENSE_KEY=staging_new_relic_license_key
GOOGLE_ANALYTICS_ID=GA-STAGING-ID

# Cache Configuration
CACHE_TTL=1800
CACHE_PREFIX=ultimate:staging:

# Rate Limiting (More permissive for testing)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200

# Worker Configuration
WORKER_CONCURRENCY=3
QUEUE_NAME=ultimate-staging-queue
BULL_REDIS_URL=${REDIS_URL}

# Backup Configuration
BACKUP_SCHEDULE=0 3 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_S3_BUCKET=ultimate-staging-backups
AWS_ACCESS_KEY_ID=staging_aws_access_key
AWS_SECRET_ACCESS_KEY=staging_aws_secret_key
AWS_REGION=us-east-1

# SSL Configuration
SSL_CERT_PATH=/etc/ssl/certs/staging-cert.pem
SSL_KEY_PATH=/etc/ssl/private/staging-key.pem

# Feature Flags (Enable testing features)
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_2FA=false
ENABLE_GOOGLE_WORKSPACE_SYNC=true
ENABLE_REAL_TIME_NOTIFICATIONS=true
ENABLE_API_RATE_LIMITING=true

# Performance Tuning
MAX_CONNECTIONS=50
CONNECTION_TIMEOUT=30000
QUERY_TIMEOUT=30000
STATEMENT_TIMEOUT=30000

# Development Tools (Keep enabled for staging debugging)
DEBUG=ultimate:*
ENABLE_SWAGGER=true
ENABLE_MORGAN_LOGGING=true
ENABLE_CORS=true

# Testing Configuration
TEST_DATABASE_URL=${DATABASE_URL}
TEST_REDIS_URL=${REDIS_URL}